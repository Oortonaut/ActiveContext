# Module Structure

Hierarchical view of all modules, classes, and functions.
Generated by `scripts/callgraph.py`.

## `acp_debug`
File: `src\acp_debug\__init__.py`

## `acp_debug.__main__`
File: `src\acp_debug\__main__.py`

### Functions

- `main` (line 6)

## `acp_debug.cli`
File: `src\acp_debug\cli.py`

### Functions

- `create_parser` (line 11)
- `run_cli` (line 113)

## `acp_debug.config`
File: `src\acp_debug\config.py`

### Functions

- `load_config` (line 39)
- `_load_yaml_config` (line 67)

### class `ShutdownConfig`


### class `Config`


## `acp_debug.extension`
File: `src\acp_debug\extension\__init__.py`

## `acp_debug.extension.base`
File: `src\acp_debug\extension\base.py`

### class `ACPExtension`

- `__init__` (line 64)
- `on_initialize` (line 73)
- `on_session_bind` (line 77)
- `on_shutdown` (line 82)
- `async initialize` (line 88)
- `async session_new` (line 96)
- `async session_load` (line 106)
- `async session_list` (line 115)
- `async session_prompt` (line 123)
- `async session_set_mode` (line 131)
- `async session_set_model` (line 142)
- `async session_cancel` (line 153)
- `async request_permission` (line 163)
- `async fs_read_text_file` (line 171)
- `async fs_write_text_file` (line 179)
- `async terminal_create` (line 187)
- `async terminal_output` (line 195)
- `async terminal_wait_for_exit` (line 203)
- `async terminal_kill` (line 211)
- `async terminal_release` (line 219)
- `async session_update` (line 229)

## `acp_debug.extension.chain`
File: `src\acp_debug\extension\chain.py`

### Functions

- `async wrapper` (line 97)

### class `ExtensionChain`

- `__init__` (line 53)
- `initialize_all` (line 57)
- `shutdown_all` (line 62)
- `_build_chain` (line 70)
- `_wrap_method` (line 90)
- `async initialize` (line 104)
- `async session_new` (line 113)
- `async session_load` (line 122)
- `async session_list` (line 131)
- `async session_prompt` (line 140)
- `async session_set_mode` (line 149)
- `async session_set_model` (line 158)
- `async session_cancel` (line 167)
- `async request_permission` (line 178)
- `async fs_read_text_file` (line 187)
- `async fs_write_text_file` (line 196)
- `async terminal_create` (line 205)
- `async terminal_output` (line 214)
- `async terminal_wait_for_exit` (line 223)
- `async terminal_kill` (line 232)
- `async terminal_release` (line 241)
- `async session_update` (line 252)

## `acp_debug.extension.loader`
File: `src\acp_debug\extension\loader.py`

### Functions

- `load_extensions` (line 16)
- `_load_extensions_from_file` (line 49)
- `reload_extensions` (line 89)

## `acp_debug.extension.mock_agent`
File: `src\acp_debug\extension\mock_agent.py`

### class `MockAgentBase(ACPExtension)`

- `__init__` (line 52)
- `_generate_session_id` (line 57)
- `async initialize` (line 61)
- `async session_new` (line 84)
- `async session_load` (line 114)
- `async session_list` (line 143)
- `async session_prompt` (line 151)
- `async session_set_mode` (line 160)
- `async session_set_model` (line 170)

## `acp_debug.extension.mock_client`
File: `src\acp_debug\extension\mock_client.py`

### class `MockClientBase(ACPExtension)`

- `__init__` (line 50)
- `async request_permission` (line 54)
- `async fs_read_text_file` (line 79)
- `async fs_write_text_file` (line 97)
- `async terminal_create` (line 107)
- `async terminal_output` (line 118)
- `async terminal_wait_for_exit` (line 126)
- `async terminal_kill` (line 134)
- `async terminal_release` (line 142)

## `acp_debug.interactive`
File: `src\acp_debug\interactive\__init__.py`

## `acp_debug.interactive.commands`
File: `src\acp_debug\interactive\commands.py`

### class `CommandHandler`

- `__init__` (line 23)
- `async handle` (line 30)
- `async _cmd_help` (line 62)
- `async _cmd_status` (line 89)
- `async _cmd_sessions` (line 102)
- `async _cmd_extensions` (line 128)
- `async _cmd_reload` (line 157)
- `async _cmd_inject` (line 167)
- `async _cmd_record` (line 180)
- `async _cmd_replay` (line 194)
- `async _cmd_pause` (line 214)
- `async _cmd_resume` (line 219)
- `async _cmd_drop` (line 224)
- `async _cmd_log` (line 233)
- `async _cmd_quit` (line 273)

## `acp_debug.interactive.repl`
File: `src\acp_debug\interactive\repl.py`

### class `InteractiveRepl`

- `__init__` (line 27)
- `async run` (line 45)
- `stop` (line 79)

## `acp_debug.modes`
File: `src\acp_debug\modes\__init__.py`

## `acp_debug.modes.mock_agent`
File: `src\acp_debug\modes\mock_agent.py`

### Functions

- `async run_mock_agent` (line 21)
- `async _handle_message` (line 73)
- `async final` (line 95)
- `async final_notif` (line 116)
- `async _noop` (line 130)

## `acp_debug.modes.mock_client`
File: `src\acp_debug\modes\mock_client.py`

### Functions

- `async run_mock_client` (line 30)
- `async send_request` (line 97)
- `async handle_agent_messages` (line 111)
- `async _handle_agent_request` (line 186)
- `async final` (line 207)
- `async _noop` (line 226)

## `acp_debug.modes.proxy`
File: `src\acp_debug\modes\proxy.py`

### Functions

- `_send_interrupt` (line 31)
- `_send_terminate` (line 48)
- `async graceful_shutdown` (line 61)
- `async run_proxy` (line 97)

## `acp_debug.modes.tap`
File: `src\acp_debug\modes\tap.py`

### Functions

- `async run_tap` (line 50)
- `async record_and_forward_to_agent` (line 114)
- `async record_and_forward_to_ide` (line 119)
- `async recording_forward_to_agent` (line 136)
- `async recording_forward_to_ide` (line 140)

### class `TapRecorder`

- `__init__` (line 36)
- `record` (line 39)

## `acp_debug.recording`
File: `src\acp_debug\recording\__init__.py`

## `acp_debug.recording.player`
File: `src\acp_debug\recording\player.py`

### Functions

- `async replay_to_agent` (line 96)

### class `RecordedMessage`


### class `SessionPlayer`

- `__init__` (line 32)
- `__iter__` (line 47)
- `messages` (line 64)
- `filter_direction` (line 68)
- `filter_method` (line 78)
- `close` (line 84)
- `__enter__` (line 89)
- `__exit__` (line 92)

## `acp_debug.recording.recorder`
File: `src\acp_debug\recording\recorder.py`

### class `SessionRecorder`

- `__init__` (line 25)
- `record` (line 40)
- `record_raw` (line 55)
- `close` (line 70)
- `__enter__` (line 75)
- `__exit__` (line 78)

## `acp_debug.state`
File: `src\acp_debug\state\__init__.py`

## `acp_debug.state.session`
File: `src\acp_debug\state\session.py`

### class `SessionState`


## `acp_debug.transport`
File: `src\acp_debug\transport\__init__.py`

## `acp_debug.transport.proxy`
File: `src\acp_debug\transport\proxy.py`

### class `ProxyTransport`

- `async run` (line 32)
- `async stop` (line 43)
- `async _handle_ide_to_agent` (line 47)
- `async _handle_agent_to_ide` (line 70)
- `async _forward_to_agent` (line 93)
- `async _forward_to_agent_and_wait` (line 98)
- `async _forward_to_ide` (line 114)
- `async _forward_to_ide_and_wait` (line 119)

## `acp_debug.transport.router`
File: `src\acp_debug\transport\router.py`

### Functions

- `async final_forward` (line 130)
- `async final_forward_notif` (line 161)
- `async final_forward` (line 200)
- `async final_forward_notif` (line 228)

### class `MessageRouter`

- `__init__` (line 100)
- `async route_to_agent` (line 103)
- `async route_to_client` (line 175)

## `acp_debug.transport.stdio`
File: `src\acp_debug\transport\stdio.py`

### class `JsonRpcMessage`

- `is_request` (line 24)
- `is_notification` (line 28)
- `is_response` (line 32)
- `to_dict` (line 36)
- `from_dict` (line 52)

### class `StdioTransport`

- `async from_stdio` (line 77)
- `async from_process` (line 95)
- `async read_message` (line 109)
- `async write_message` (line 131)
- `async messages` (line 141)
- `async close` (line 149)

## `acp_debug.types`
File: `src\acp_debug\types\__init__.py`

## `acp_debug.types.common`
File: `src\acp_debug\types\common.py`

### class `AcpModel(BaseModel)`


### class `TextContent(AcpModel)`


### class `ToolResultContent(AcpModel)`


### class `FSCapabilities(AcpModel)`


### class `PromptCapabilities(AcpModel)`


### class `ClientCapabilities(AcpModel)`


### class `ClientInfo(AcpModel)`


### class `AgentCapabilities(AcpModel)`


### class `AgentInfo(AcpModel)`


### class `ModelInfo(AcpModel)`


### class `ModeInfo(AcpModel)`


### class `ToolCallStatus(str, Enum)`


### class `ToolCall(AcpModel)`


### class `PermissionOptionKind(str, Enum)`


### class `PermissionOption(AcpModel)`


### class `PlanEntry(AcpModel)`


### class `AvailableCommand(AcpModel)`


## `acp_debug.types.notifications`
File: `src\acp_debug\types\notifications.py`

### class `CancelNotification(AcpModel)`


### class `SessionUpdateType(str, Enum)`


### class `SessionUpdate(AcpModel)`


## `acp_debug.types.requests`
File: `src\acp_debug\types\requests.py`

### class `InitializeRequest(AcpModel)`


### class `NewSessionRequest(AcpModel)`


### class `LoadSessionRequest(AcpModel)`


### class `ListSessionsRequest(AcpModel)`


### class `PromptRequest(AcpModel)`


### class `SetModeRequest(AcpModel)`


### class `SetModelRequest(AcpModel)`


### class `PermissionRequest(AcpModel)`


### class `ReadFileRequest(AcpModel)`


### class `WriteFileRequest(AcpModel)`


### class `CreateTerminalRequest(AcpModel)`


### class `TerminalOutputRequest(AcpModel)`


### class `WaitForExitRequest(AcpModel)`


### class `KillTerminalRequest(AcpModel)`


### class `ReleaseTerminalRequest(AcpModel)`


## `acp_debug.types.responses`
File: `src\acp_debug\types\responses.py`

### class `InitializeResponse(AcpModel)`


### class `ModelsInfo(AcpModel)`


### class `ModesInfo(AcpModel)`


### class `NewSessionResponse(AcpModel)`


### class `LoadSessionResponse(AcpModel)`


### class `SessionInfo(AcpModel)`


### class `ListSessionsResponse(AcpModel)`


### class `StopReason(str, Enum)`


### class `PromptResponse(AcpModel)`


### class `SetModeResponse(AcpModel)`


### class `SetModelResponse(AcpModel)`


### class `PermissionOutcome(AcpModel)`


### class `PermissionResponse(AcpModel)`


### class `ReadFileResponse(AcpModel)`


### class `CreateTerminalResponse(AcpModel)`


### class `TerminalOutputResponse(AcpModel)`


### class `WaitForExitResponse(AcpModel)`


## `activecontext`
File: `src\activecontext\__init__.py`

## `activecontext.__main__`
File: `src\activecontext\__main__.py`

### Functions

- `_expand_env_vars` (line 21)
- `replace_var` (line 39)
- `_patch_acp_schema` (line 50)
- `async _main` (line 68)
- `main` (line 92)

## `activecontext.clean`
File: `src\activecontext\clean.py`

### Functions

- `_should_skip` (line 25)
- `clean` (line 30)
- `main` (line 59)

## `activecontext.logging`
File: `src\activecontext\logging.py`

### Functions

- `setup_logging` (line 62)
- `_add_stderr_handler` (line 121)
- `get_logger` (line 129)

### class `_LowercaseLevelFormatter(logging.Formatter)`

- `format` (line 57)

## `activecontext.agents`
File: `src\activecontext\agents\__init__.py`

## `activecontext.agents.handle`
File: `src\activecontext\agents\handle.py`

### class `AgentHandle`

- `__init__` (line 39)
- `agent_id` (line 54)
- `state` (line 59)
- `task` (line 65)
- `agent_type` (line 71)
- `parent_id` (line 77)
- `Send` (line 82)
- `Pause` (line 129)
- `Resume` (line 144)
- `Terminate` (line 159)
- `to_dict` (line 176)
- `__repr__` (line 186)

## `activecontext.agents.manager`
File: `src\activecontext\agents\manager.py`

### class `AgentManager`

- `__init__` (line 49)
- `type_registry` (line 74)
- `async spawn_agent` (line 78)
- `get_agent` (line 144)
- `get_session` (line 159)
- `list_agents` (line 170)
- `async update_agent_state` (line 178)
- `async send_message` (line 199)
- `get_messages` (line 231)
- `mark_message_delivered` (line 247)
- `mark_message_read` (line 255)
- `share_node` (line 263)
- `get_shared_node` (line 275)
- `unshare_node` (line 286)
- `async pause_agent` (line 300)
- `async resume_agent` (line 308)
- `async terminate_agent` (line 316)
- `has_pending_messages` (line 340)

## `activecontext.agents.registry`
File: `src\activecontext\agents\registry.py`

### class `AgentTypeRegistry`

- `__init__` (line 23)
- `_load_builtin_types` (line 28)
- `get` (line 64)
- `register` (line 75)
- `unregister` (line 83)
- `list_types` (line 97)
- `load_from_directory` (line 105)
- `load_user_types` (line 132)

## `activecontext.agents.schema`
File: `src\activecontext\agents\schema.py`

### class `AgentState(Enum)`


### class `AgentMessage`

- `to_dict` (line 37)
- `from_dict` (line 52)

### class `AgentEntry`

- `to_dict` (line 83)
- `from_dict` (line 97)

### class `AgentType`

- `to_dict` (line 121)
- `from_dict` (line 131)

## `activecontext.config`
File: `src\activecontext\config\__init__.py`

## `activecontext.config.loader`
File: `src\activecontext\config\loader.py`

### Functions

- `load_yaml_file` (line 52)
- `env_overrides` (line 79)
- `dict_to_config` (line 100)
- `load_config` (line 277)
- `get_config` (line 326)
- `reset_config` (line 340)
- `reload_config` (line 349)
- `on_config_reload` (line 370)
- `unregister` (line 381)

## `activecontext.config.merge`
File: `src\activecontext\config\merge.py`

### Functions

- `deep_merge` (line 12)
- `merge_configs` (line 49)

## `activecontext.config.paths`
File: `src\activecontext\config\paths.py`

### Functions

- `get_system_config_path` (line 20)
- `get_user_config_path` (line 38)
- `get_project_config_path` (line 69)
- `get_config_paths` (line 81)
- `get_config_dirs` (line 107)

## `activecontext.config.schema`
File: `src\activecontext\config\schema.py`

### class `RoleProviderConfig`


### class `LLMConfig`


### class `SessionModeConfig`


### class `StartupConfig`


### class `FileWatchConfig`


### class `SessionConfig`


### class `ProjectionConfig`


### class `LoggingConfig`


### class `FilePermissionConfig`


### class `ShellPermissionConfig`


### class `WebsitePermissionConfig`


### class `ImportConfig`


### class `SandboxConfig`


### class `UserConfig`


### class `MCPConnectMode(Enum)`


### class `MCPServerConfig`


### class `MCPConfig`


### class `ACPConfig`


### class `Config`


## `activecontext.config.secrets`
File: `src\activecontext\config\secrets.py`

### Functions

- `_load_secrets` (line 24) `@lru_cache`
- `fetch_secret` (line 45)
- `clear_secret_cache` (line 86)

## `activecontext.config.watcher`
File: `src\activecontext\config\watcher.py`

### Functions

- `start_watching` (line 147)
- `stop_watching` (line 173)

### class `ConfigWatcher`

- `__init__` (line 34)
- `_get_watched_paths` (line 51)
- `_check_mtimes` (line 55)
- `_detect_changes` (line 64)
- `async _poll_loop` (line 93)
- `start` (line 112)
- `stop` (line 125)
- `async __aenter__` (line 133)
- `async __aexit__` (line 138)

## `activecontext.context`
File: `src\activecontext\context\__init__.py`

## `activecontext.context.buffer`
File: `src\activecontext\context\buffer.py`

### class `TextBuffer`

- `from_file` (line 32)
- `from_content` (line 57)
- `get_lines` (line 76)
- `get_content` (line 91)
- `line_count` (line 107)
- `to_dict` (line 111)
- `from_dict` (line 121)

## `activecontext.context.checkpoint`
File: `src\activecontext\context\checkpoint.py`

### class `GroupState`

- `to_dict` (line 32)
- `from_dict` (line 42)

### class `Checkpoint`

- `to_dict` (line 76)
- `from_dict` (line 90)
- `get_digest` (line 104)

## `activecontext.context.content`
File: `src\activecontext\context\content.py`

### Functions

- `_estimate_tokens` (line 16)
- `content_from_file` (line 165)
- `content_from_artifact` (line 193)
- `content_from_shell` (line 218)
- `content_from_markdown` (line 243)

### class `ContentData`

- `__post_init__` (line 48)
- `update_content` (line 55)
- `set_summary` (line 64)
- `content_hash` (line 69)
- `to_dict` (line 73)
- `from_dict` (line 87)

### class `ContentRegistry`

- `__init__` (line 108)
- `register` (line 112)
- `get` (line 124)
- `remove` (line 135)
- `list_ids` (line 149)
- `__len__` (line 153)
- `__contains__` (line 157)

## `activecontext.context.graph`
File: `src\activecontext\context\graph.py`

### Functions

- `collect` (line 406)
- `collect` (line 430)
- `check` (line 590)

### class `_ChildOrderNode`


### class `LinkedChildOrder`

- `__init__` (line 51)
- `append` (line 56)
- `insert_after` (line 69)
- `insert_before` (line 94)
- `remove` (line 126)
- `__contains__` (line 144)
- `__iter__` (line 148)
- `__len__` (line 155)
- `__bool__` (line 158)
- `clear` (line 161)
- `to_list` (line 167)
- `from_list` (line 172)

### class `ContextGraph`

- `add_node` (line 211)
- `remove_node` (line 249)
- `link` (line 281)
- `unlink` (line 335)
- `get_node` (line 367)
- `get_children` (line 375)
- `get_parents` (line 386)
- `get_ancestors` (line 397)
- `get_descendants` (line 421)
- `get_roots` (line 445)
- `get_root` (line 449)
- `set_root` (line 459)
- `get_running_nodes` (line 467)
- `get_nodes_by_type` (line 471)
- `get_traces_for_node` (line 481)
- `emit_notification` (line 527)
- `has_wake_notification` (line 564)
- `flush_notifications` (line 568)
- `_is_descendant` (line 583)
- `to_dict` (line 608)
- `from_dict` (line 622)
- `clear` (line 658)
- `checkpoint` (line 670)
- `restore` (line 715)
- `get_checkpoints` (line 764)
- `get_checkpoint` (line 772)
- `delete_checkpoint` (line 783)
- `__len__` (line 794)
- `__contains__` (line 798)
- `__iter__` (line 802)

## `activecontext.context.headers`
File: `src\activecontext\context\headers.py`

### Functions

- `format_token_info` (line 46)
- `render_header` (line 104)

### class `TokenInfo`


## `activecontext.context.markdown_parser`
File: `src\activecontext\context\markdown_parser.py`

### Functions

- `parse_markdown` (line 229)
- `render_with_tags` (line 242)

### class `HeadingSection`

- `line_range` (line 37)
- `render_tags` (line 41)
- `render_heading` (line 56)

### class `ParseResult`


### class `MarkdownParser`

- `__init__` (line 108)
- `parse` (line 114)
- `parse_buffer` (line 173)
- `_is_heading` (line 185)

## `activecontext.context.nodes`
File: `src\activecontext\context\nodes.py`

### class `ShellStatus(Enum)`


### class `LockStatus(Enum)`


### class `ContextNode(ABC)`

- `node_type` (line 152)
- `header_tokens` (line 159)
- `content_tokens` (line 170)
- `children_tokens` (line 179)
- `total_tokens` (line 188)
- `GetDigest` (line 196)
- `Render` (line 200)
- `RenderCollapsed` (line 224)
- `RenderSummary` (line 235)
- `RenderDetail` (line 246)
- `get_display_name` (line 265)
- `get_token_breakdown` (line 276)
- `render_brief` (line 287)
- `render_tail` (line 300)
- `render_size` (line 316)
- `render_header` (line 336)
- `Recompute` (line 358)
- `_mark_changed` (line 369)
- `_create_trace` (line 419)
- `_emit_notification` (line 522)
- `_format_notification_header` (line 547)
- `notify_parents` (line 555)
- `on_child_changed` (line 569)
- `set_on_child_changed_hook` (line 586)
- `add_child` (line 594)
- `to_dict` (line 616)
- `from_dict` (line 652)
- `Run` (line 666)
- `Pause` (line 679)

### class `TextNode(ContextNode)`

- `__post_init__` (line 717)
- `node_type` (line 726)
- `markdown_heading_id` (line 730)
- `GetDigest` (line 759)
- `RenderDetail` (line 774)
- `SetPos` (line 881)
- `SetEndPos` (line 893)
- `_format_notification_header` (line 907)
- `get_display_name` (line 911)
- `get_token_breakdown` (line 927)
- `to_dict` (line 947)
- `_from_dict` (line 962)

### class `GroupNode(ContextNode)`

- `node_type` (line 1027)
- `GetDigest` (line 1030)
- `RenderSummary` (line 1051)
- `RenderDetail` (line 1073)
- `on_child_changed` (line 1094)
- `invalidate_summary` (line 1110)
- `get_display_name` (line 1114)
- `get_token_breakdown` (line 1118)
- `to_dict` (line 1152)
- `_from_dict` (line 1166)

### class `TopicNode(ContextNode)`

- `node_type` (line 1220)
- `GetDigest` (line 1223)
- `RenderCollapsed` (line 1236)
- `RenderSummary` (line 1244)
- `RenderDetail` (line 1255)
- `set_status` (line 1272)
- `get_display_name` (line 1284)
- `get_token_breakdown` (line 1288)
- `to_dict` (line 1305)
- `_from_dict` (line 1318)

### class `ArtifactNode(ContextNode)`

- `node_type` (line 1362)
- `GetDigest` (line 1365)
- `RenderCollapsed` (line 1378)
- `RenderSummary` (line 1386)
- `RenderDetail` (line 1398)
- `set_content` (line 1407)
- `get_display_name` (line 1420)
- `get_token_breakdown` (line 1425)
- `to_dict` (line 1445)
- `_from_dict` (line 1459)

### class `ShellNode(ContextNode)`

- `node_type` (line 1519)
- `is_complete` (line 1523)
- `is_success` (line 1533)
- `full_command` (line 1538)
- `GetDigest` (line 1544)
- `RenderCollapsed` (line 1558)
- `RenderSummary` (line 1566)
- `RenderDetail` (line 1579)
- `set_running` (line 1614)
- `set_completed` (line 1622)
- `set_timeout` (line 1658)
- `set_cancelled` (line 1674)
- `get_display_name` (line 1682)
- `get_token_breakdown` (line 1689)
- `to_dict` (line 1708)
- `_from_dict` (line 1727)

### class `LockNode(ContextNode)`

- `node_type` (line 1786)
- `is_complete` (line 1790)
- `is_held` (line 1800)
- `GetDigest` (line 1804)
- `RenderSummary` (line 1817)
- `RenderDetail` (line 1828)
- `set_acquired` (line 1855)
- `set_timeout` (line 1865)
- `set_released` (line 1874)
- `set_error` (line 1882)
- `get_display_name` (line 1891)
- `get_token_breakdown` (line 1895)
- `to_dict` (line 1914)
- `_from_dict` (line 1930)

### class `SessionNode(ContextNode)`

- `node_type` (line 2020)
- `GetDigest` (line 2023)
- `RenderSummary` (line 2038)
- `RenderDetail` (line 2070)
- `record_turn` (line 2105)
- `record_statement` (line 2154)
- `update_graph_stats` (line 2159)
- `Recompute` (line 2199)
- `get_display_name` (line 2204)
- `get_token_breakdown` (line 2208)
- `to_dict` (line 2227)
- `_from_dict` (line 2253)

### class `MessageNode(ContextNode)`

- `node_type` (line 2318)
- `effective_role` (line 2322)
- `display_label` (line 2327)
- `GetDigest` (line 2364)
- `_get_formatted_content` (line 2379)
- `RenderCollapsed` (line 2387)
- `RenderSummary` (line 2395)
- `RenderDetail` (line 2410)
- `_format_tool_call` (line 2430)
- `_format_tool_result` (line 2438)
- `set_content` (line 2445)
- `get_display_name` (line 2454)
- `get_token_breakdown` (line 2461)
- `to_dict` (line 2480)
- `_from_dict` (line 2494)

### class `WorkNode(ContextNode)`

- `node_type` (line 2552)
- `GetDigest` (line 2555)
- `RenderSummary` (line 2570)
- `RenderDetail` (line 2597)
- `set_intent` (line 2637)
- `set_files` (line 2645)
- `set_conflicts` (line 2653)
- `get_display_name` (line 2663)
- `get_token_breakdown` (line 2668)
- `to_dict` (line 2687)
- `_from_dict` (line 2703)

### class `MCPServerNode(ContextNode)`

- `__getattr__` (line 2782)
- `node_type` (line 2793)
- `GetDigest` (line 2796)
- `tool` (line 2811)
- `tool_nodes` (line 2828)
- `_render_status_message` (line 2839)
- `RenderCollapsed` (line 2847)
- `RenderSummary` (line 2859)
- `RenderDetail` (line 2878)
- `update_from_connection` (line 2927)
- `start_call` (line 3019)
- `complete_call` (line 3028)
- `get_pending_count` (line 3068)
- `set_on_result_callback` (line 3072)
- `get_display_name` (line 3082)
- `get_token_breakdown` (line 3086)
- `to_dict` (line 3109)
- `_from_dict` (line 3126)

### class `MCPToolNode(ContextNode)`

- `node_type` (line 3195)
- `GetDigest` (line 3198)
- `RenderCollapsed` (line 3210)
- `RenderSummary` (line 3228)
- `RenderDetail` (line 3239)
- `get_display_name` (line 3283)
- `get_token_breakdown` (line 3287)
- `to_dict` (line 3306)
- `_from_dict` (line 3320)

### class `MCPManagerNode(ContextNode)`

- `node_type` (line 3382)
- `GetDigest` (line 3385)
- `RenderSummary` (line 3397)
- `RenderDetail` (line 3421)
- `on_child_changed` (line 3468)
- `register_server` (line 3512)
- `unregister_server` (line 3518)
- `get_display_name` (line 3524)
- `get_token_breakdown` (line 3528)
- `to_dict` (line 3549)
- `_from_dict` (line 3564)

### class `AgentNode(ContextNode)`

- `node_type` (line 3621)
- `GetDigest` (line 3624)
- `RenderSummary` (line 3640)
- `RenderDetail` (line 3651)
- `update_state` (line 3676)
- `update_message_count` (line 3684)
- `get_display_name` (line 3692)
- `get_token_breakdown` (line 3696)
- `to_dict` (line 3715)
- `_from_dict` (line 3732)

### class `TraceNode(ContextNode)`

- `node_type` (line 3803)
- `GetDigest` (line 3806)
- `get_display_name` (line 3822)
- `_format_merged_values` (line 3854)
- `get_token_breakdown` (line 3863)
- `RenderDetail` (line 3878)
- `to_dict` (line 3904)
- `_from_dict` (line 3939)

### class `TaskNode(ContextNode)`

- `node_type` (line 4005)
- `GetDigest` (line 4008)
- `RenderSummary` (line 4030)
- `RenderDetail` (line 4047)
- `update_status` (line 4089)
- `get_display_name` (line 4101)
- `get_token_breakdown` (line 4105)
- `to_dict` (line 4125)
- `_from_dict` (line 4141)

## `activecontext.context.registry`
File: `src\activecontext\context\registry.py`

### Functions

- `get_node_registry` (line 194)

### class `NodeTypeRegistry`

- `__init__` (line 25)
- `_load_builtin_types` (line 31)
- `_get_node_type_from_class` (line 78)
- `get` (line 105)
- `register` (line 116)
- `unregister` (line 132)
- `list_types` (line 148)
- `is_builtin` (line 156)
- `from_dict` (line 167)

## `activecontext.context.state`
File: `src\activecontext\context\state.py`

### class `Visibility(Enum)`

- `__str__` (line 27)

### class `Expansion(Enum)`

- `__str__` (line 46)

### class `NotificationLevel(Enum)`

- `__str__` (line 63)

### class `Notification`


### class `TickFrequency`

- `turn` (line 111)
- `async_` (line 116)
- `never` (line 121)
- `period` (line 126)
- `from_string` (line 135)
- `to_string` (line 185)
- `__str__` (line 204)
- `to_dict` (line 207)
- `from_dict` (line 215)

## `activecontext.context.traceable`
File: `src\activecontext\context\traceable.py`

### Functions

- `register_formatter` (line 43)
- `format_value` (line 60)
- `traceable` (line 87)
- `is_traceable` (line 143)
- `get_traceable_fields` (line 162)
- `get_field_formatter` (line 181)
- `trace_all_fields` (line 226)
- `traced_setattr` (line 283)

## `activecontext.context.view`
File: `src\activecontext\context\view.py`

### Functions

- `view_from_dict` (line 1191)

### class `NodeView`

- `__init__` (line 44)
- `node` (line 62)
- `hide` (line 69)
- `hide` (line 74)
- `expand` (line 79)
- `expand` (line 84)
- `tags` (line 89)
- `visible_tokens` (line 96)
- `SetTokens` (line 113)
- `Run` (line 118)
- `Pause` (line 123)
- `SetNotify` (line 128)
- `__getattr__` (line 135)
- `__setattr__` (line 139)
- `to_dict` (line 161)
- `from_dict` (line 172)
- `__repr__` (line 182)
- `__eq__` (line 187)
- `__hash__` (line 195)

### class `ChoiceView(NodeView)`

- `__init__` (line 234)
- `selected_id` (line 253)
- `selected_id` (line 258)
- `select` (line 262)
- `__setattr__` (line 274)
- `_get_child_ids` (line 288)
- `apply_selection` (line 301)
- `get_options` (line 326)
- `render_index` (line 356)
- `render_brief` (line 382)
- `to_dict` (line 408)
- `from_dict` (line 420)
- `__repr__` (line 431)

### class `SequenceView(ChoiceView)`

- `__init__` (line 475)
- `_persist_state` (line 505)
- `to_dict` (line 510)
- `from_dict` (line 523)
- `_sync_selection` (line 538)
- `current_index` (line 545)
- `completed_steps` (line 550)
- `total_steps` (line 555)
- `is_complete` (line 560)
- `progress` (line 568)
- `advance` (line 572)
- `back` (line 590)
- `mark_complete` (line 604)
- `skip` (line 614)
- `goto` (line 627)
- `render_progress` (line 643)
- `__setattr__` (line 680)
- `__repr__` (line 687)

### class `LoopView(NodeView)`

- `__init__` (line 734)
- `_persist_state` (line 760)
- `to_dict` (line 766)
- `from_dict` (line 780)
- `iteration` (line 795)
- `state` (line 800)
- `max_iterations` (line 805)
- `is_done` (line 810)
- `iterations_remaining` (line 824)
- `iterate` (line 830)
- `update_state` (line 851)
- `done` (line 864)
- `reset` (line 874)
- `render_header` (line 886)
- `render_state` (line 900)
- `__setattr__` (line 914)
- `__repr__` (line 921)

### class `StateView(ChoiceView)`

- `__init__` (line 976)
- `_persist_state` (line 1017)
- `to_dict` (line 1022)
- `from_dict` (line 1037)
- `current_state` (line 1052)
- `state_history` (line 1057)
- `valid_transitions` (line 1062)
- `all_states` (line 1067)
- `can_transition` (line 1071)
- `transition` (line 1083)
- `force_transition` (line 1118)
- `reset` (line 1141)
- `render_header` (line 1155)
- `__setattr__` (line 1166)
- `__repr__` (line 1173)

## `activecontext.coordination`
File: `src\activecontext\coordination\__init__.py`

## `activecontext.coordination.schema`
File: `src\activecontext\coordination\schema.py`

### class `FileAccess`

- `to_dict` (line 20)
- `from_dict` (line 24)

### class `WorkEntry`

- `to_dict` (line 42)
- `from_dict` (line 56)

### class `Scratchpad`

- `to_dict` (line 85)
- `from_dict` (line 94)

### class `Conflict`

- `to_dict` (line 115)

## `activecontext.coordination.scratchpad`
File: `src\activecontext\coordination\scratchpad.py`

### Functions

- `modifier` (line 117)
- `modifier` (line 154)
- `modifier` (line 182)
- `modifier` (line 198)
- `modifier` (line 324)
- `modifier` (line 373)
- `modifier` (line 402)
- `modifier` (line 423)
- `modifier` (line 435)
- `modifier` (line 499)
- `modifier` (line 535)
- `modifier` (line 559)

### class `ScratchpadManager`

- `__init__` (line 34)
- `agent_id` (line 47)
- `_load` (line 51)
- `_save` (line 63)
- `_atomic_update` (line 69)
- `register` (line 79)
- `update` (line 130)
- `heartbeat` (line 175)
- `unregister` (line 191)
- `get_conflicts` (line 206)
- `_paths_match` (line 290)
- `get_all_entries` (line 306)
- `cleanup_stale` (line 311)
- `register_agent` (line 338)
- `update_agent` (line 382)
- `agent_heartbeat` (line 419)
- `unregister_agent` (line 432)
- `get_agent` (line 445)
- `get_all_agents` (line 453)
- `send_message` (line 462)
- `get_messages` (line 506)
- `mark_message_status` (line 526)
- `delete_old_messages` (line 546)

## `activecontext.core`
File: `src\activecontext\core\__init__.py`

## `activecontext.core.projection_engine`
File: `src\activecontext\core\projection_engine.py`

### class `ProjectionConfig`


### class `RenderPath`

- `__len__` (line 55)
- `__bool__` (line 59)

### class `ProjectionEngine`

- `__init__` (line 78)
- `_config_from_app_config` (line 85)
- `build` (line 89)
- `_collect_render_path` (line 149)
- `_collect_from_node` (line 182)
- `_render_path` (line 245)
- `_render_node` (line 300)

## `activecontext.core.tokens`
File: `src\activecontext\core\tokens.py`

### Functions

- `detect_media_type` (line 89)
- `_get_encoder` (line 106)
- `_count_with_tiktoken` (line 114)
- `_count_heuristic` (line 121)
- `count_tokens` (line 131)
- `count_tokens_heuristic` (line 147)
- `invalidate_cache` (line 160)
- `tokens_to_chars` (line 168)
- `chars_to_tokens` (line 181)

### class `MediaType(Enum)`


## `activecontext.core.llm`
File: `src\activecontext\core\llm\__init__.py`

## `activecontext.core.llm.discovery`
File: `src\activecontext\core\llm\discovery.py`

### Functions

- `_get_provider_api_key` (line 50)
- `_get_model_config` (line 62)
- `get_available_providers` (line 72)
- `get_available_models` (line 81)
- `get_provider_config` (line 100)
- `_sort_key` (line 105)
- `get_role_models` (line 110)
- `get_all_role_models` (line 168)
- `get_model_for_role` (line 187)
- `get_default_model` (line 243)

### class `ModelInfo`


### class `RoleModelEntry`


## `activecontext.core.llm.litellm_provider`
File: `src\activecontext\core\llm\litellm_provider.py`

### Functions

- `create_provider` (line 159)

### class `LiteLLMProvider`

- `__init__` (line 43)
- `model` (line 65)
- `_build_kwargs` (line 68)
- `async complete` (line 94)
- `async stream` (line 128)

## `activecontext.core.llm.provider`
File: `src\activecontext\core\llm\provider.py`

### class `Role(Enum)`


### class `Message`


### class `StreamChunk`


### class `CompletionResult`


### class `LLMProvider(Protocol)`

- `model` (line 66)
- `async complete` (line 70)
- `async stream` (line 89)

## `activecontext.core.llm.providers`
File: `src\activecontext\core\llm\providers.py`

### Functions

- `_load_providers_yaml` (line 49) `@lru_cache`
- `_build_provider_configs` (line 58)
- `_build_role_configs` (line 83)
- `_build_role_model_defaults` (line 97)

### class `ModelConfig`


### class `ProviderConfig`


### class `RoleConfig`


## `activecontext.dashboard`
File: `src\activecontext\dashboard\__init__.py`

## `activecontext.dashboard.data`
File: `src\activecontext\dashboard\data.py`

### Functions

- `get_llm_status` (line 20)
- `get_session_summary` (line 41)
- `get_context_data` (line 55)
- `get_timeline_data` (line 97)
- `get_projection_data` (line 134)
- `get_message_history_data` (line 169)
- `get_rendered_projection_data` (line 216)
- `get_client_capabilities_data` (line 264)
- `get_session_features_data` (line 286)
- `format_session_update` (line 318)
- `get_current_view_snapshot` (line 334)
- `apply_view_snapshot` (line 358)

## `activecontext.dashboard.routes`
File: `src\activecontext\dashboard\routes.py`

### Functions

- `create_app` (line 43)
- `_register_routes` (line 62)
- `async index` (line 66) `@app.get`
- `async api_status` (line 75) `@app.get`
- `async api_llm` (line 85) `@app.get`
- `async api_sessions` (line 91) `@app.get`
- `async api_session_context` (line 110) `@app.get`
- `async api_session_timeline` (line 123) `@app.get`
- `async api_session_projection` (line 136) `@app.get`
- `async api_session_message_history` (line 149) `@app.get`
- `async api_session_rendered` (line 162) `@app.get`
- `async api_client` (line 175) `@app.get`
- `async api_session_features` (line 180) `@app.get`
- `async websocket_endpoint` (line 195) `@app.websocket`
- `async _handle_websocket_command` (line 256)
- `async _handle_set_expansion` (line 287)
- `async _handle_set_hidden` (line 380)
- `async _handle_list_views` (line 457)
- `async _handle_clone_view` (line 475)
- `async _handle_read_view` (line 534)
- `async _handle_write_view` (line 593)
- `async _handle_delete_view` (line 664)
- `async broadcast_update` (line 701)

## `activecontext.dashboard.server`
File: `src\activecontext\dashboard\server.py`

### Functions

- `get_manager` (line 34)
- `get_current_model_id` (line 39)
- `get_session_model` (line 46)
- `get_session_mode` (line 53)
- `get_client_info` (line 60)
- `get_protocol_version` (line 68)
- `get_transport_type` (line 76)
- `is_dashboard_running` (line 81)
- `get_dashboard_status` (line 86)
- `async start_dashboard` (line 104)
- `async stop_dashboard` (line 163)
- `get_static_dir` (line 199)

## `activecontext.dashboard.views`
File: `src\activecontext\dashboard\views.py`

### Functions

- `get_view_manager` (line 286)
- `cleanup_view_manager` (line 305)

### class `ViewSnapshot`

- `to_dict` (line 37)
- `from_dict` (line 47)

### class `ViewManager`

- `__init__` (line 71)
- `_load_from_disk` (line 85)
- `_save_to_disk` (line 100)
- `list_views` (line 114)
- `get_view` (line 130)
- `clone_view` (line 141)
- `read_view` (line 162)
- `write_view` (line 184)
- `delete_view` (line 203)
- `_capture_current_state` (line 219)
- `_apply_state_to_session` (line 246)

## `activecontext.dashboard.websocket`
File: `src\activecontext\dashboard\websocket.py`

### class `ConnectionManager`

- `__init__` (line 22)
- `async connect` (line 26)
- `async disconnect` (line 35)
- `async broadcast` (line 44)
- `async broadcast_all` (line 66)
- `get_connection_count` (line 74)
- `async close_all` (line 80)

## `activecontext.events`
File: `src\activecontext\events\__init__.py`

## `activecontext.handlers`
File: `src\activecontext\handlers\__init__.py`

## `activecontext.handlers.interactive_shell`
File: `src\activecontext\handlers\interactive_shell.py`

### Functions

- `async stream_output` (line 134)

### class `InteractiveShellHandler`

- `__init__` (line 54)
- `_get_shell_command` (line 74)
- `async handle` (line 91)

## `activecontext.handlers.mcp_menu`
File: `src\activecontext\handlers\mcp_menu.py`

### class `MCPMenuHandler`

- `__init__` (line 38)
- `async handle` (line 46)
- `async _show_status` (line 126)
- `async _list_connected` (line 136)
- `async _list_available` (line 152)
- `async _connect_server` (line 171)
- `async _disconnect_server` (line 229)
- `async _view_tools` (line 278)

## `activecontext.mcp`
File: `src\activecontext\mcp\__init__.py`

## `activecontext.mcp.client`
File: `src\activecontext\mcp\client.py`

### Functions

- `async tool_method` (line 361)

### class `MCPConnection`

- `async connect` (line 44)
- `async disconnect` (line 119)
- `async call_tool` (line 139)
- `async read_resource` (line 190)

### class `MCPClientManager`

- `set_permission_callback` (line 240)
- `async connect` (line 244)
- `async disconnect` (line 291)
- `async disconnect_all` (line 297)
- `get_connection` (line 302)
- `list_connections` (line 306)
- `get_all_tools` (line 310)
- `generate_namespace_bindings` (line 318)

### class `ServerProxy`

- `__init__` (line 341)
- `_make_tool_method` (line 356)
- `__repr__` (line 387)
- `__dir__` (line 391)

## `activecontext.mcp.hooks`
File: `src\activecontext\mcp\hooks.py`

### Functions

- `get_pre_call_hook` (line 26)
- `set_pre_call_hook` (line 31)

## `activecontext.mcp.permissions`
File: `src\activecontext\mcp\permissions.py`

### class `MCPPermissionDenied(Exception)`

- `__str__` (line 21)

### class `MCPPermissionRule`


### class `MCPPermissionManager`

- `check_access` (line 53)
- `grant_temporary` (line 80)
- `revoke_temporary` (line 95)
- `clear_temporary_grants` (line 102)
- `add_rule` (line 107)
- `allow_server` (line 118)
- `deny_server` (line 122)

## `activecontext.mcp.transport`
File: `src\activecontext\mcp\transport.py`

### Functions

- `_expand_env_vars` (line 12)
- `async create_transport` (line 27)

## `activecontext.mcp.types`
File: `src\activecontext\mcp\types.py`

### class `MCPConnectionStatus(Enum)`


### class `MCPToolInfo`


### class `MCPResourceInfo`


### class `MCPToolResult`

- `text` (line 50)
- `__repr__` (line 58)

### class `MCPPromptInfo`


## `activecontext.prompts`
File: `src\activecontext\prompts\__init__.py`

### Functions

- `load_prompt` (line 11)
- `list_prompts` (line 16)

## `activecontext.protocols.conversation`
File: `src\activecontext\protocols\conversation.py`

### class `InputType(Enum)`


### class `ConversationTransport(Protocol)`

- `async send_output` (line 35)
- `async send_progress` (line 51)
- `async request_input` (line 69)
- `check_cancelled` (line 99)
- `check_input` (line 107)
- `get_session_id` (line 115)
- `get_originator` (line 123)

### class `ConversationHandler(Protocol)`

- `async handle` (line 149)

## `activecontext.session`
File: `src\activecontext\session\__init__.py`

## `activecontext.session.agent`
File: `src\activecontext\session\agent.py`

### class `Agent(Script)`

- `__init__` (line 60)
- `task_type` (line 153)
- `async stop` (line 157)
- `to_dict` (line 170)
- `llm` (line 182)
- `set_llm` (line 186)
- `message_history` (line 195)
- `clear_message_history` (line 199)
- `add_message` (line 203)
- `async prompt` (line 238)
- `async _prompt_with_llm` (line 277)
- `async _prompt_direct` (line 399)
- `async _execute_code` (line 425)
- `async run_agent_loop` (line 467)
- `wake` (line 517)
- `stop_loop` (line 521)
- `async cancel` (line 526)
- `set_session_node` (line 534)
- `set_tick_callback` (line 538)
- `set_projection_callback` (line 542)
- `set_add_node_callback` (line 546)

## `activecontext.session.agent_spawner`
File: `src\activecontext\session\agent_spawner.py`

### class `AgentSpawner`

- `__init__` (line 30)
- `set_agent_manager` (line 51)
- `set_agent_id` (line 55)
- `spawn` (line 59)
- `async spawn_async` (line 102)
- `send_message` (line 120)
- `send_update` (line 176)
- `recv_messages` (line 233)
- `list_agents` (line 272)
- `get_agent_status` (line 296)
- `pause_agent` (line 335)
- `resume_agent` (line 357)
- `terminate_agent` (line 379)
- `get_shared_node` (line 401)
- `setup_namespace` (line 417)

## `activecontext.session.base_permissions`
File: `src\activecontext\session\base_permissions.py`

### Functions

- `write_permission_to_config_generic` (line 75)
- `_build_file_permission_entry` (line 127)
- `_build_shell_permission_entry` (line 132)
- `_build_import_entry` (line 137)
- `_build_website_permission_entry` (line 145)

### class `TemporaryGrantMixin`

- `clear_temporary_grants` (line 39)

### class `ReloadablePermissionManager(ABC)`

- `from_config` (line 50)
- `reload` (line 55)

### class `ConfigWriteStrategy`


## `activecontext.session.coordinator`
File: `src\activecontext\session\coordinator.py`

### class `SessionConversationTransport`

- `__init__` (line 39)
- `async send_output` (line 62)
- `async send_progress` (line 95)
- `async request_input` (line 130)
- `handle_input_response` (line 193)
- `check_cancelled` (line 201)
- `check_input` (line 209)
- `get_session_id` (line 217)
- `get_originator` (line 225)
- `async _emit_update` (line 233)

### class `ConversationHandle`

- `__init__` (line 263)
- `async start` (line 279)
- `is_waiting` (line 283)
- `is_done` (line 291)
- `async send_input` (line 299)
- `get_last_prompt_node` (line 307)
- `async wait` (line 333)
- `async cancel` (line 346)

## `activecontext.session.lock_manager`
File: `src\activecontext\session\lock_manager.py`

### class `LockManager`

- `__init__` (line 33)
- `acquire` (line 57)
- `async _background_task` (line 114)
- `process_pending_results` (line 169)
- `release` (line 202)
- `cancel` (line 268)
- `cancel_all` (line 283)
- `release_all` (line 296)
- `has_pending_tasks` (line 308)

## `activecontext.session.mcp_integration`
File: `src\activecontext\session\mcp_integration.py`

### class `MCPIntegration`

- `__init__` (line 31)
- `async connect` (line 53)
- `async disconnect` (line 162)
- `list_connections` (line 204)
- `list_tools` (line 221)
- `async cleanup` (line 242)
- `generate_namespace_bindings` (line 246)

## `activecontext.session.permissions`
File: `src\activecontext\session\permissions.py`

### Functions

- `make_safe_open` (line 267)
- `safe_open` (line 280)
- `write_permission_to_config` (line 314)
- `parse_pattern` (line 430)
- `is_typed_pattern` (line 466)
- `write_shell_permission_to_config` (line 861)
- `make_safe_import` (line 1078)
- `safe_import` (line 1091)
- `write_import_to_config` (line 1131)
- `make_safe_fetch` (line 1533)
- `async safe_fetch` (line 1536)
- `write_website_permission_to_config` (line 1575)

### class `PermissionDenied(Exception)`

- `__str__` (line 37)

### class `PermissionRule`


### class `PermissionManager`

- `from_config` (line 72)
- `reload` (line 144)
- `grant_temporary` (line 156)
- `clear_temporary_grants` (line 171)
- `_resolve_path` (line 176)
- `check_access` (line 210)
- `list_permissions` (line 251)

### class `ShellPermissionDenied(Exception)`

- `__str__` (line 380)

### class `ShellPermissionRule`


### class `PatternSegment`


### class `LiteralSegment(PatternSegment)`


### class `PlaceholderSegment(PatternSegment)`


### class `GlobSegment(PatternSegment)`


### class `TypeValidator`

- `validate` (line 485)
- `_resolve_path` (line 542)

### class `MatchResult`


### class `PatternMatcher`

- `__init__` (line 572)
- `match` (line 582)
- `_match_typed` (line 603)

### class `ShellPermissionManager`

- `__post_init__` (line 706)
- `from_config` (line 712)
- `reload` (line 748)
- `check_access` (line 759)
- `check_access_with_captures` (line 772)
- `grant_temporary` (line 813)
- `clear_temporary_grants` (line 827)
- `_build_command_string` (line 832)
- `list_permissions` (line 846)

### class `ImportDenied(Exception)`

- `__str__` (line 926)

### class `ImportGuard`

- `from_config` (line 950)
- `is_allowed` (line 970)
- `add_module` (line 1014)
- `remove_module` (line 1023)
- `list_allowed` (line 1032)
- `grant_temporary` (line 1040)
- `clear_temporary_grants` (line 1055)
- `reload` (line 1061)

### class `WebsitePermissionDenied(Exception)`

- `__str__` (line 1199)

### class `WebsitePermissionRule`


### class `URLTypeValidator`

- `validate` (line 1216)
- `_is_valid_domain` (line 1251)
- `_is_valid_host` (line 1267)
- `_is_valid_ipv4` (line 1285)
- `_is_valid_ipv6` (line 1296)
- `_is_valid_url` (line 1307)
- `_is_valid_subdomain` (line 1319)
- `_is_valid_port` (line 1326)
- `get_regex_pattern` (line 1335)

### class `URLPatternMatcher`

- `__init__` (line 1373)
- `match` (line 1376)
- `_match_typed` (line 1395)

### class `WebsitePermissionManager`

- `from_config` (line 1454)
- `check_access` (line 1477)
- `_is_localhost` (line 1499)
- `grant_temporary` (line 1510)
- `clear_temporary_grants` (line 1514)
- `reload` (line 1518)
- `list_permissions` (line 1525)

## `activecontext.session.protocols`
File: `src\activecontext\session\protocols.py`

### class `UpdateKind(Enum)`


### class `ExecutionStatus(Enum)`


### class `WaitMode(Enum)`


### class `EventResponse(Enum)`


### class `TaskStatus(Enum)`


### class `IOMode(Enum)`


### class `EventHandler`


### class `QueuedEvent`


### class `SessionUpdate`


### class `Statement`


### class `NamespaceTrace`


### class `ExecutionResult`


### class `WaitCondition`

- `is_timed_out` (line 202)
- `elapsed_seconds` (line 210)

### class `ProjectionSection`


### class `Projection`

- `render` (line 241)

### class `TimelineProtocol(Protocol)`

- `session_id` (line 260)
- `async execute_statement` (line 264)
- `async replay_from` (line 275)
- `get_statements` (line 286)
- `get_namespace` (line 290)
- `get_context_objects` (line 294)

### class `SessionProtocol(Protocol)`

- `session_id` (line 308)
- `timeline` (line 313)
- `cwd` (line 318)
- `async prompt` (line 322)
- `async tick` (line 339)
- `async cancel` (line 349)
- `get_projection` (line 353)

### class `SessionManagerProtocol(Protocol)`

- `async create_session` (line 366)
- `async get_session` (line 382)
- `async load_session` (line 393)
- `async list_sessions` (line 411)
- `async close_session` (line 415)

### class `TaskProtocol(Protocol)`

- `task_id` (line 441)
- `task_type` (line 446)
- `io_mode` (line 451)
- `status` (line 456)
- `async start` (line 460)
- `async pause` (line 464)
- `async resume` (line 468)
- `async stop` (line 472)
- `to_dict` (line 476)

### class `UpdateSink(Protocol)`

- `async emit` (line 492)

### class `UpdateCallback(Protocol)`

- `__call__` (line 500)

### class `TransportAdapter(Protocol)`

- `async handle_prompt` (line 513)
- `async handle_cancel` (line 528)

## `activecontext.session.script`
File: `src\activecontext\session\script.py`

### class `Script(TaskProtocol)`

- `__init__` (line 56)
- `task_id` (line 130)
- `task_type` (line 135)
- `io_mode` (line 140)
- `status` (line 145)
- `async start` (line 149)
- `async pause` (line 154)
- `async resume` (line 159)
- `async stop` (line 165)
- `to_dict` (line 171)
- `timeline` (line 186)
- `context_graph` (line 191)
- `cwd` (line 196)
- `async execute` (line 204)
- `get_namespace` (line 215)
- `get_context_objects` (line 219)
- `async send_event` (line 227)
- `async receive_event` (line 235)
- `has_pending_events` (line 251)
- `async run_loop` (line 259)
- `async _handle_event` (line 272)
- `set_title_callback` (line 288)
- `set_path_resolver` (line 292)
- `set_delegate_conversation` (line 296)
- `set_create_conversation_handle` (line 300)
- `configure_file_watcher` (line 304)
- `process_pending_shell_results` (line 312)
- `process_file_changes` (line 316)
- `is_waiting` (line 324)
- `get_wait_condition` (line 328)
- `clear_wait_condition` (line 332)
- `check_wait_condition` (line 336)
- `is_done` (line 348)
- `get_done_message` (line 352)
- `reset_done` (line 356)

## `activecontext.session.session_manager`
File: `src\activecontext\session\session_manager.py`

### Functions

- `strip_leading_seps` (line 613)
- `is_path_boundary` (line 619)
- `on_reload` (line 2136)

### class `Session`

- `__init__` (line 84)
- `_add_system_prompt_node` (line 231)
- `_restore_system_prompt_buffer` (line 254)
- `_create_metadata_nodes` (line 301)
- `session_id` (line 357)
- `timeline` (line 361)
- `primary_script` (line 365)
- `primary_agent` (line 370)
- `get_task` (line 374)
- `list_tasks` (line 385)
- `create_task` (line 389)
- `async remove_task` (line 449)
- `cwd` (line 467)
- `llm` (line 471)
- `set_llm` (line 475)
- `title` (line 481)
- `set_title` (line 485)
- `mode` (line 495)
- `set_mode` (line 499)
- `set_mode_choice_view` (line 512)
- `resolve_path` (line 540)
- `_expand_path_roots` (line 589)
- `get_text_buffer` (line 681)
- `add_text_buffer` (line 692)
- `get_or_create_text_buffer` (line 704)
- `text_buffers` (line 726)
- `created_at` (line 731)
- `current_group` (line 740)
- `push_group` (line 748)
- `pop_group` (line 762)
- `add_node` (line 779)
- `begin_tool_use` (line 803)
- `end_tool_use` (line 837)
- `_add_message` (line 858)
- `save` (line 889)
- `from_file` (line 915)
- `_build_projection_engine` (line 1047)
- `async prompt` (line 1052)
- `queue_user_message` (line 1090)
- `has_pending_messages` (line 1128)
- `get_pending_messages` (line 1141)
- `mark_message_processed` (line 1153)
- `async _prompt_with_llm` (line 1159)
- `async _prompt_direct` (line 1282)
- `async _execute_code` (line 1307)
- `async tick` (line 1345)
- `async cancel` (line 1458)
- `async run_agent_loop` (line 1466)
- `_has_pending_work` (line 1505)
- `async _process_next_message` (line 1513)
- `stop_agent_loop` (line 1577)
- `wake` (line 1582)
- `_update_alerts_group` (line 1586)
- `get_projection` (line 1618)
- `clear_message_history` (line 1631)
- `get_context_objects` (line 1635)
- `get_context_graph` (line 1639)
- `async delegate_conversation` (line 1643)
- `create_conversation_handle` (line 1726)
- `async startup` (line 1785)
- `async _setup_initial_context` (line 1897)
- `async _load_context_guide` (line 1912)
- `async _setup_mcp_autoconnect` (line 1938)

### class `SessionManager`

- `__init__` (line 1986)
- `set_default_llm` (line 1997)
- `async create_session` (line 2001)
- `_setup_permission_reload` (line 2111)
- `_load_project_config` (line 2174)
- `async get_session` (line 2194)
- `async load_session` (line 2198)
- `async list_sessions` (line 2209)
- `async close_session` (line 2213)

## `activecontext.session.shell_manager`
File: `src\activecontext\session\shell_manager.py`

### class `ShellManager`

- `__init__` (line 39)
- `execute` (line 72)
- `async _background_task` (line 127)
- `process_pending_results` (line 254)
- `cancel` (line 298)
- `cancel_all` (line 313)
- `has_pending_tasks` (line 326)

## `activecontext.session.storage`
File: `src\activecontext\session\storage.py`

### Functions

- `get_sessions_dir` (line 60)
- `ensure_sessions_dir` (line 72)
- `get_session_path` (line 86)
- `generate_default_title` (line 99)
- `save_session` (line 108)
- `load_session_metadata` (line 183)
- `load_session_data` (line 214)
- `list_sessions` (line 246)
- `delete_session` (line 274)
- `session_exists` (line 292)

### class `SessionMetadata`


### class `SessionData`


## `activecontext.session.timeline`
File: `src\activecontext\session\timeline.py`

### class `_ExecutionRecord`


### class `ScriptNamespace`

- `__init__` (line 135)
- `__getitem__` (line 148)

### class `NodeLookup`

- `__init__` (line 204)
- `_get_or_create_view` (line 214)
- `_score_match` (line 223)
- `_find_best_match` (line 254)
- `get` (line 349)
- `__getitem__` (line 365)
- `__getattr__` (line 382)
- `__contains__` (line 401)
- `keys` (line 405)
- `values` (line 426)
- `items` (line 433)
- `__len__` (line 440)
- `__iter__` (line 445)
- `__repr__` (line 449)

### class `Timeline`

- `__init__` (line 460)
- `configure_file_watcher` (line 625)
- `set_title_callback` (line 643)
- `cwd` (line 654)
- `views` (line 658)
- `_setup_namespace` (line 662)
- `_setup_agent_namespace` (line 779)
- `_setup_default_event_handlers` (line 811)
- `_event_response` (line 844)
- `_wait_file_change` (line 868)
- `_on_file_change` (line 907)
- `_wait_event` (line 932)
- `fire_event` (line 993)
- `process_file_changes` (line 1040)
- `get_queued_events` (line 1072)
- `has_pending_wake_prompt` (line 1085)
- `clear_queued_events` (line 1098)
- `_ls_permissions` (line 1116)
- `_ls_imports` (line 1126)
- `_ls_shell_permissions` (line 1144)
- `_ls_website_permissions` (line 1160)
- `_make_text_node` (line 1178)
- `_make_group_node` (line 1234)
- `_make_choice_view` (line 1296)
- `_make_sequence_view` (line 1339)
- `_make_loop_view` (line 1379)
- `_make_state_machine` (line 1434)
- `_resolve_node_id` (line 1523)
- `_make_topic_node` (line 1539)
- `_make_artifact_node` (line 1585)
- `_make_markdown_node` (line 1634)
- `_make_view` (line 1778)
- `_link` (line 1811)
- `_unlink` (line 1839)
- `_hide` (line 1865)
- `_find_view_for_node` (line 1922)
- `_unhide` (line 1933)
- `_checkpoint` (line 1997)
- `_restore` (line 2011)
- `_list_checkpoints` (line 2022)
- `_branch` (line 2030)
- `_ls_handles` (line 2045)
- `_create_node_lookup` (line 2049)
- `_get_node` (line 2057)
- `_show_handle` (line 2081)
- `process_pending_shell_results` (line 2086)
- `async close` (line 2100)
- `async __aenter__` (line 2127)
- `async __aexit__` (line 2131)
- `_fetch` (line 2140)
- `async _fetch_with_permission` (line 2176)
- `_done` (line 2250)
- `_set_notify` (line 2261)
- `_set_title` (line 2297)
- `is_done` (line 2312)
- `get_done_message` (line 2316)
- `reset_done` (line 2320)
- `_wait` (line 2329)
- `_wait_all` (line 2364)
- `_wait_any` (line 2396)
- `_interact` (line 2434)
- `_connect` (line 2519)
- `_wait_message` (line 2601)
- `is_waiting` (line 2639)
- `get_wait_condition` (line 2643)
- `clear_wait_condition` (line 2647)
- `check_wait_condition` (line 2651)
- `_format_wake_prompt` (line 2798)
- `session_id` (line 2818)
- `_capture_namespace_trace` (line 2821)
- `_snapshot_namespace` (line 2840)
- `async _await_namespace_coroutines` (line 2899)
- `async execute_statement` (line 2909)
- `async _execute_statement_inner` (line 3079)
- `async replay_from` (line 3284)
- `get_statements` (line 3304)
- `get_namespace` (line 3308)
- `get_context_objects` (line 3312)
- `context_graph` (line 3317)
- `current_group_id` (line 3322)
- `set_current_group` (line 3330)
- `clear_current_group` (line 3338)
- `permission_manager` (line 3343)
- `set_permission_manager` (line 3347)
- `import_guard` (line 3360)
- `set_import_guard` (line 3364)
- `shell_permission_manager` (line 3377)
- `set_shell_permission_manager` (line 3381)

## `activecontext.session.work_coordinator`
File: `src\activecontext\session\work_coordinator.py`

### class `WorkCoordinator`

- `__init__` (line 28)
- `work_node` (line 47)
- `work_on` (line 51)
- `work_check` (line 120)
- `work_update` (line 141)
- `work_done` (line 200)
- `work_list` (line 214)

## `activecontext.session.xml_parser`
File: `src\activecontext\session\xml_parser.py`

### Functions

- `is_xml_command` (line 65)
- `parse_xml_to_python` (line 81)
- `_element_to_python` (line 119)
- `_constructor_to_python` (line 140)
- `_utility_to_python` (line 176)
- `_method_call_to_python` (line 268)
- `_format_value` (line 281)

## `activecontext.session.tasks`
File: `src\activecontext\session\tasks\__init__.py`

## `activecontext.session.tasks.blocking_conversation`
File: `src\activecontext\session\tasks\blocking_conversation.py`

### class `BlockingConversationTask`

- `__init__` (line 45)
- `task_id` (line 80)
- `task_type` (line 85)
- `io_mode` (line 90)
- `status` (line 95)
- `async start` (line 99)
- `async pause` (line 105)
- `async resume` (line 110)
- `async stop` (line 115)
- `to_dict` (line 123)
- `async ask` (line 142)
- `async confirm` (line 175)
- `async text_input` (line 187)
- `inject_response` (line 223)
- `async wait_for_injected_response` (line 235)
- `questions` (line 252)
- `responses` (line 257)
- `conversation_history` (line 262)
- `from_dict` (line 278)

## `activecontext.skills`
File: `src\activecontext\skills\__init__.py`

## `activecontext.skills.loader`
File: `src\activecontext\skills\loader.py`

### Functions

- `get_skills_directory` (line 31)
- `_parse_frontmatter` (line 45)
- `load_skill_from_path` (line 73)
- `load_skill` (line 140)
- `discover_skills` (line 154)

## `activecontext.skills.schema`
File: `src\activecontext\skills\schema.py`

### class `SkillManifest`

- `__post_init__` (line 52)
- `_is_valid_hyphen_case` (line 78)

## `activecontext.terminal`
File: `src\activecontext\terminal\__init__.py`

## `activecontext.terminal.acp_executor`
File: `src\activecontext\terminal\acp_executor.py`

### class `ACPTerminalExecutor`

- `__init__` (line 23)
- `async execute` (line 40)

## `activecontext.terminal.protocol`
File: `src\activecontext\terminal\protocol.py`

### class `TerminalExecutor(Protocol)`

- `async execute` (line 18)

## `activecontext.terminal.result`
File: `src\activecontext\terminal\result.py`

### class `ShellResult`

- `success` (line 31)
- `__repr__` (line 35)

## `activecontext.terminal.subprocess_executor`
File: `src\activecontext\terminal\subprocess_executor.py`

### class `SubprocessTerminalExecutor`

- `__init__` (line 23)
- `async execute` (line 31)

## `activecontext.transport`
File: `src\activecontext\transport\__init__.py`

## `activecontext.transport.acp`
File: `src\activecontext\transport\acp\__init__.py`

## `activecontext.transport.acp.agent`
File: `src\activecontext\transport\acp\agent.py`

### Functions

- `_find_jetbrains_chat_uuid` (line 44)
- `async mcp_pre_call_hook` (line 1178)
- `async emit_update` (line 1392)
- `async _run_loop` (line 1966)
- `create_agent` (line 2020)

### class `ActiveContextAgent`

- `__init__` (line 130)
- `_load_modes_from_config` (line 186)
- `_load_batch_config` (line 211)
- `_load_acp_config` (line 231)
- `async _flush_chunks` (line 247)
- `async _buffer_chunk` (line 269)
- `async _delayed_flush` (line 297)
- `async _cleanup_session_buffers` (line 306)
- `async _request_file_permission` (line 321)
- `async _request_shell_permission` (line 386)
- `async _request_website_permission` (line 453)
- `async _request_import_permission` (line 524)
- `on_connect` (line 607)
- `async initialize` (line 611)
- `get_client_info` (line 707)
- `async new_session` (line 716)
- `async load_session` (line 848)
- `async list_sessions` (line 950)
- `async set_session_mode` (line 981)
- `async set_session_model` (line 1009)
- `async authenticate` (line 1033)
- `async prompt` (line 1041)
- `async _process_prompt` (line 1149)
- `async fork_session` (line 1252)
- `async resume_session` (line 1265)
- `async cancel` (line 1281)
- `_cleanup_closed_session` (line 1357)
- `_setup_conversation_callbacks` (line 1381)
- `register_conversation_transport` (line 1404)
- `unregister_conversation_transport` (line 1421)
- `async handle_conversation_input_response` (line 1432)
- `async ext_method` (line 1455)
- `async ext_notification` (line 1464)
- `async _handle_slash_command` (line 1472)
- `async _send_session_update` (line 1686)
- `async _post_session_setup` (line 1692)
- `_get_available_commands` (line 1775)
- `async _flush_queued_updates` (line 1806)
- `_queue_update` (line 1823)
- `async _emit_update` (line 1830)
- `async _emit_update_internal` (line 1853)
- `async _start_agent_loop` (line 1945)
- `_stop_agent_loop` (line 2008)

## `activecontext.transport.direct`
File: `src\activecontext\transport\direct\__init__.py`

## `activecontext.transport.direct.async_session`
File: `src\activecontext\transport\direct\async_session.py`

### Functions

- `unsubscribe` (line 141)

### class `AsyncSession`

- `__init__` (line 34)
- `session_id` (line 39)
- `timeline` (line 44)
- `cwd` (line 49)
- `async prompt` (line 53)
- `async execute` (line 71)
- `async tick` (line 85)
- `async cancel` (line 95)
- `get_namespace` (line 99)
- `get_context_objects` (line 107)
- `get_projection` (line 115)
- `clear_message_history` (line 123)
- `on_update` (line 127)
- `async replay_from` (line 147)

## `activecontext.transport.direct.client`
File: `src\activecontext\transport\direct\client.py`

### class `ActiveContext`

- `__init__` (line 58)
- `async __aenter__` (line 67)
- `async __aexit__` (line 72)
- `_ensure_manager` (line 84)
- `set_llm` (line 93)
- `async create_session` (line 102)
- `async get_session` (line 122)
- `async list_sessions` (line 137)
- `async close_session` (line 142)

## `activecontext.transport.lsp`
File: `src\activecontext\transport\lsp\__init__.py`

## `activecontext.transport.lsp.framing`
File: `src\activecontext\transport\lsp\framing.py`

### Functions

- `parse_header` (line 48)
- `async read_message` (line 112)
- `async write_message` (line 195)

### class `LSPFramingError(Exception)`


## `activecontext.watching`
File: `src\activecontext\watching\__init__.py`

## `activecontext.watching.watcher`
File: `src\activecontext\watching\watcher.py`

### class `WatchedFile`


### class `FileChangeEvent`

- `to_dict` (line 46)

### class `FileWatcher`

- `__init__` (line 81)
- `poll_interval` (line 106)
- `poll_interval` (line 111)
- `watched_count` (line 116)
- `resolve_path` (line 120)
- `register_path` (line 134)
- `unregister_path` (line 168)
- `unregister_node` (line 186)
- `get_watchers` (line 203)
- `check_changes` (line 215)
- `_check_file` (line 232)
- `async start` (line 295)
- `stop` (line 329)
- `is_running` (line 336)
